<!DOCTYPE html>
<html>
  <head>
    <title>Patent Year Distribution</title>
    <!-- 引入 ECharts 文件 -->
    {% load static %}
    <script src="{% static 'echarts.js' %}"></script>
  </head>
  <body>
    <h1>Graphs</h1>
    <div id="distribution_line" style="width: 600px; height: 400px"></div>
    <div id="distribution_bar" style="width: 600px; height: 400px"></div>
    <div id="innovation_bar" style="width: 600px; height: 400px"></div>

    <script>
      var dist_line = echarts.init(document.getElementById('distribution_line'));
      var dist_bar = echarts.init(document.getElementById('distribution_bar'));
      var inno_bar = echarts.init(document.getElementById('innovation_bar'));

      var dist_lineOption = {
          // ECharts 配置项
          xAxis: {
              type: 'category',
              data: {{ years|safe }}
          },
          yAxis: {
              type: 'value'
          },
          series: [{
              data: {{ counts|safe }},
              type: 'line'  // 或 'bar' 对于柱状图
          }]
      };
      dist_line.setOption(dist_lineOption);

      var dist_barOption = {
          // ECharts 配置项
          xAxis: {
              type: 'category',
              data: {{ years|safe }}
          },
          yAxis: {
              type: 'value'
          },
          series: [{
              data: {{ counts|safe }},
              type: 'bar'
          }]
      };
      dist_bar.setOption(dist_barOption);

      {% comment %} var inno_barOption = {
          xAxis: {
              type: 'category',
              data: {{ provinces|safe }}
          },
          yAxis: {
              type: 'value'
          },
          series: [{
              data: {{ province_counts|safe }},
              type: 'bar'
          }]
        };
      inno_bar.setOption(inno_barOption); {% endcomment %}
    </script>
  </body>
</html>
